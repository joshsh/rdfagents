<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
    <meta name="RCS-Id" content="$Id: Overview.html,v 1.14 2008/01/16 15:38:27 eric Exp $"/>
    <title>RDFAgents: real-time Semantic Web messaging (draft)</title>
    <link rel="stylesheet" type="text/css" href="fortytwo-draft.css"/>
</head>

<body>

<span style="color: #f00;"><b>Note:</b> this is a pre-release version of the RDFAgents spec.
You haven't seen this yet &lt;subtle hand wave&gt;.</span>
<br/><br/>

<div class="head">
    <p>
        <a href="http://fipa.org">
            <img alt="FIPA" src="fipa-logo.png" style="border:0" width="51" height="53"/>
        </a>
        &nbsp;&nbsp;&nbsp;&nbsp;
        <a href="http://www.w3.org/2001/sw/">
            <!--<img alt="Semantic Web" src="http://www.w3.org/Icons/SW/sw-horz" style="border:0" width="156" height="48"/>-->
            <img alt="Semantic Web" src="semanticweb-logo.png" style="border:0" width="156" height="53"/>
        </a>
    </p>

    <h1 id="main">RDFAgents</h1>

    <h2><a name="w3c-doctype" id="w3c-doctype">Draft 1 May 2011</a></h2>
    <dl>
        <dt>This version:</dt>
        <dd>
            <a href="http://fortytwo.net/2011/rdfagents/spec-20110501">http://fortytwo.net/2011/rdfagents/spec-20110501</a>
        </dd>
        <dt>Latest version:</dt>
        <dd><a href="http://fortytwo.net/2011/rdfagents/spec">http://fortytwo.net/2011/rdfagents/spec</a></dd>
        <dt>Previous version:</dt>
        <dd>
            <a href="http://fortytwo.net/2011/rdfagents/spec-20110501">http://fortytwo.net/2011/rdfagents/spec-20110501</a>
        </dd>
        <dt>Editor:</dt>
        <dd rel="author foaf:maker dc:creator" rev="made foaf:made">
            <address about="http://fortytwo.net/foaf#josh" typeof="foaf:Person" style="font-style:normal">
                <a property="foaf:name" rel="foaf:page" href="http://fortytwo.net">Joshua Shinavier</a>
            </address>
            <!--&lt;<a href="mailto:josh@fortytwo.net">josh@fortytwo.net</a>&gt;-->
        </dd>
    </dl>

    <p class="copyright"><span class="dc:rights">
        Copyright &copy; 2011 Joshua Shinavier.</span>
        <a href="http://creativecommons.org/licenses/by-sa/3.0/us/" rel="license dc:license"
           title="Creative Commons License">Some rights reserved</a>.
    </p>
</div>

<hr/>
<!-- ................................................................. -->

<div>
    <h2 class="notoc"><a id="abstract" name="abstract">Abstract</a></h2>

    <p>
        RDFAgents is a messaging protocol for real-time, peer-to-peer knowledge sharing on the Semantic Web.

        It patterned after, and designed to interoperate with Linked Data,
        but extends Linked Data principles to support a "word of mouth" style of information discovery
        over a variety of communications protocols.

        It geared towards ubiquitous Semantic Web computing,
        lightweight devices with variable network connectivity,
        and highly reactive, event-driven interfaces to Semantic Web services.
    </p>

    <p>
        This specification defines a data model based on RDF and Named Graphs,
        a messaging infrastructure based on the FIPA agent standards,
        and a pair of closely related interaction protocols:
        one for simple queries,
        and another for subscription-based information streams.
    </p>
</div>
<div>
    <h2 id="status">Status of this Document</h2>

    <p>This specification is part of a research project currently in progress.
        It is neither a FIPA standard nor a W3C recommendation.
        Please direct any comments to <a href="mailto:josh&#x40;fortytwo.net">josh&#x40;fortytwo.net</a>.
    </p>
</div>

<hr/>
<!-- ................................................................. -->

<div class="toc">
    <h2><a id="contents" name="contents">Table of Contents</a></h2>

    <ul class="toc">

        <li class="tocline1">1 <a href="#introduction">Introduction</a> (informative)
            <ul class="toc">
                <li class="tocline2">1.1 <a href="#doc-outline">Document Outline</a>
                <li class="tocline2">1.2 <a href="#doc-conventions">Document Conventions</a>
                    <ul class="toc">
                        <li class="tocline2">1.2.1 <a href="#doc-namespaces">Namespaces</a></li>
                        <li class="tocline2">1.2.2 <a href="#doc-data-desc">Data Descriptions</a></li>
                        <li class="tocline2">1.2.3 <a href="#doc-result-desc">Result Descriptions</a></li>
                        <li class="tocline2">1.2.4 <a href="#docTerminology">Terminology</a></li>
                    </ul>
            </ul>
        </li>

        <li class="tocline1">DM <a href="#datamodel">Data model</a>
            <ul class="toc">
                <li class="tocline2">DM.1 <a href="#default-graph">The default graph</a></li>
                <li class="tocline2">DM.2 <a href="#agents">Agents</a></li>
                <li class="tocline2">DM.3 <a href="#metadata">Graphs and agents in RDF</a></li>
                <li class="tocline2">DM.4 <a href="#messages">Assertional messages</a></li>
                <li class="tocline2">DM.5 <a href="#lifting-rules">Lifting rules</a> (informative)</li>
            </ul>
        </li>

        <li class="tocline1">AR <a href="#messaging">Messaging</a>
            <ul class="toc">
                <li class="tocline2">AR.1 <a href="#performatives">Performatives</a></li>
                <li class="tocline2">AR.2 <a href="#sending-messages">Sending messages</a></li>
                <li class="tocline2">AR.3 <a href="#message-content">Message content</a>
                    <ul class="toc">
                        <li class="tocline3">AR.3.2 <a href="#rdf-content-languages">RDF content languages</a></li>
                        <li class="tocline3">AR.3.3 <a href="#handling-rdf-content">Handling RDF content</a></li>
                    </ul>
                </li>
            </ul>
        </li>

        <li class="tocline1">P <a href="#protocols">Protocols</a>
            <ul class="toc">
                <li class="tocline2">P.1 <a href="#query">Query</a>
                    <ul class="toc">
                        <li class="tocline3">P.1.1 <a href="#describe-query">The <code>describe</code> query form</a>
                        </li>
                        <li class="tocline3">P.1.2 <a href="#query-results">Interpretation of query results</a></li>
                        <li class="tocline3">P.1.3 <a href="#query-exceptions">Exceptions</a></li>
                    </ul>
                </li>
                <li class="tocline2">P.2 <a href="#pubsub">Publish-Subscribe</a>
                    <ul class="toc">
                        <li class="tocline3">P.2.1 <a href="#pubsub-updates">Interpretation of updates</a></li>
                        <li class="tocline3">P.2.2 <a href="#pubsub-exceptions">Exceptions</a></li>
                    </ul>
                </li>
            </ul>
        </li>

        <li class="tocline1">FC <a href="#fipa-compliance">FIPA compliance</a>
            <ul class="toc">
                <li class="tocline2">FC.1 <a href="#fipa-agent-identity">Agent identity</a>
                    <ul class="toc">
                        <li class="tocline3">FC.1.1 <a href="#fipa-agent-name">Agent name</a></li>
                        <li class="tocline3">FC.1.2 <a href="#fipa-transport-addresses">Transport addresses</a></li>
                        <li class="tocline3">FC.1.3 <a href="#fipa-name-resolution">Name resolution</a></li>
                    </ul>
                </li>
                <li class="tocline2">FC.2 <a href="#fipa-agent-management">Agent management</a></li>
                <li class="tocline2">FC.3 <a href="#fipa-service-discovery">Service discovery</a></li>
                <li class="tocline2">FC.4 <a href="#fipa-message-exchange">Inter-agent message exchange</a></li>
            </ul>
        </li>

        <li class="tocline1">ID <a href="#information-discovery">Information Discovery</a> (informative)
            <ul class="toc">
                <li class="tocline2">ID.1 <a href="#agent-discovery">Agent discovery</a></li>
                <li class="tocline2">ID.2 <a href="#resource-discovery">Resource discovery</a></li>
            </ul>
        </li>

        <li class="tocline1">IO <a href="#integration">Integration</a> (informative)
            <ul class="toc">
                <li class="tocline2">IO.1 <a href="#linked-data">Linked Data</a></li>
                <li class="tocline2">IO.2 <a href="#data-streams">RDF streams</a></li>
                <li class="tocline2">IO.3 <a href="#other-agents">Agent-based systems</a></li>
            </ul>
        </li>

        <!--<li class="tocline1">IMP <a href="#implementation">Reference implementation</a> (informative)
        </li>-->
    </ul>
</div>

<h3><a id="appendices" name="appendices">Appendices</a></h3>
<ul class="toc">
    <li class="tocline2">A <a href="#domain-language-and-ontology">Domain language and ontology</a>
        <ul class="toc">
            <li class="tocline3">A.1 <a href="#rdf-resources">RDF resources</a></li>
            <li class="tocline3">A.2 <a href="#queries">Queries</a></li>
            <li class="tocline3">A.3 <a href="#errors">Errors</a></li>
        </ul>
    </li>
    <li class="tocline2">B <a href="#references">References</a></li>
    <li class="tocline2">C <a href="#notes">Notes</a> (informative)</li>
    <li class="tocline2">D <a href="#acknowledgements">Acknowledgements</a> (informative)</li>
    <li class="tocline2">E <a href="#changes">Changes</a> (informative)</li>
</ul>

<hr/>
<!-- ................................................................. -->

<h2>1 <a id="introduction" name="introduction">Introduction</a> (informative)</h2>

<p>
    ... both Linked Data and RDF streams ...

    for an overview of Linked Data, see [<a href="#linked-data-book">Linked Data</a>].
</p>

<p>
    RDFAgents adheres closely to Linked Data best practices
    while replacing the request-response, client-server model of HTTP
    with the asynchronous and peer-to-peer model of FIPA agents.

    In analogy to the four <a href="http://www.w3.org/DesignIssues/LinkedData.html">Linked Data principles</a>,
    the basic principles of RDFAgents are as follows:
</p>
<ol>
    <li>Use Semantic Web <i>URIs</i> as names for things</li>
    <li>Use FIPA <i>agent identifiers</i> as names for <i>agents</i></li>
    <li>When someone <i>asks</i> an agent about a URI, provide useful information using the standards (RDF, SPARQL)</li>
    <li>Include <i>links</i> to other URIs and <i>quotations</i> from other agents, so that they can discover related
        information.
    </li>
</ol>
<p>
    For example, if an information consumer asks the agent named <code>info@example.org</code>
    about the thing named <code>http://dbpedia.org/resource/Beijing</code>,
    that agent should respond with an RDF description of the city of Beijing.

    The description should include links to related things such as China, Beijing universities and historical landmarks,
    and
    so on.

    Furthermore, if the description includes information from multiple sources,
    such as a news service <code>news@foo.com</code> or a weather service <code>weather@bar.net</code>,
    this should be indicated through the use of Named Graphs and graph quotation.
    This gives the user the option of contacting those sources directly
    in order to get more detailed or more up-to-date news or weather information about Beijing.
</p>

<p>
    ...[paraphrase] Foundations of Intelligent Physical Agents (FIPA) is a standards organization
    whose goal is to make available specifications that maximize interoperability across agent-based systems.
    ...

    ...RDFAgents inherits FIPA...

    ... FIPA agents communicate by exchanging messages which represent speech acts,
    and which are encoded in an agent communication language...

    ...FIPA includes basic security in the form of message validity (reliable delivery) and message encryption...

    ...transport-agnosticism...

    ...In reading this document, it will be helpful to have some familiarity with the FIPA and RDF specifications,
    as well as the conventions and best practices of the Semantic Web and Linked Data.

    ...for more information on FIPA, see...

    ...why FIPA?...
</p>

<p>
    ...contributes:
</p>
<ul>
    <li>a statement-centric data model based on RDF and Named Graphs</li>
    <li>a FIPA domain ontology for inter-agent information exchange</li>
    <li>FIPA performatives and protocols for information sharing supporting privacy, provenance, trust, and
        information accountability in the context of social machines
    </li>
    <li>integration of FIPA agent identity and Semantic Web identity</li>
    <li>conventions for peer-to-peer information discovery</li>
</ul>

<h3>1.1 <a id="doc-outline" name="doc-outline">Document Outline</a></h3>

<p>Unless otherwise noted in the section heading, all sections and appendices in this document are normative.</p>

<p>
    This section of the document, <a href="#introduction">section 1</a>, introduces the RDFAgents specification.
    It presents the organization of this specification document and the conventions used throughout the specification.
</p>

<p><a href="#basic-patterns">Section 2</a> of the specification etc. etc.</p>

<h3>1.2 <a id="doc-conventions" name="doc-conventions">Document Conventions</a></h3>
<h4>1.2.1 <a id="doc-namespaces" name="doc-namespaces">Namespaces</a></h4>

<p>In this document, examples assume the following namespace prefix bindings unless
    otherwise stated:</p>

<div>
    <table>
        <tr>
            <th>Prefix</th>
            <th>URI</th>
        </tr>
        <tr>
            <td><code>dc:</code></td>
            <td><code>http://purl.org/dc/terms/</code></td>
        </tr>
        <tr>
            <td><code>ex:</code></td>
            <td><code>http://example.org/</code></td>
        </tr>
        <tr>
            <td><code>foaf:</code></td>
            <td><code>http://xmlns.com/foaf/0.1/</code></td>
        </tr>
        <tr>
            <td><code>rdfg:</code></td>
            <td><code>http://www.w3.org/2004/03/trix/rdfg-1/</code></td>
        </tr>
        <tr>
            <td><code>sioc:</code></td>
            <td><code>http://rdfs.org/sioc/ns#</code></td>
        </tr>
        <tr>
            <td><code>swp:</code></td>
            <td><code>http://www.w3.org/2004/03/trix/swp-2/</code></td>
        </tr>
        <tr>
            <td><code>xsd:</code></td>
            <td><code>http://www.w3.org/2001/XMLSchema#</code></td>
        </tr>
    </table>
</div>

<h4>1.2.2 <a id="doc-data-desc" name="doc-data-desc">Data Descriptions</a></h4>

<p>This document uses the
    <a class="inform" href="http://www4.wiwiss.fu-berlin.de/bizer/TriG/">TriG</a>
    RDF serialization format to show each triple explicitly. TriG, like Turtle, allows IRIs to be abbreviated with
    prefixes:</p>
<pre class="data">
@prefix dc:   &lt;http://purl.org/dc/elements/1.1/&gt; .
@prefix :     &lt;http://example.org/book/&gt; .
:book1  dc:title  &quot;SPARQL Tutorial&quot; .
</pre>
<p>
    TriG also supports graph syntax...
</p>

<hr/>
<!-- ................................................................. -->

<h2>DM <a id="datamodel" name="datamodel">Data model</a></h2>

<p>
    Information sharing in RDFAgents is based on the exchange of RDF
    data and Named Graph metadata.

    For details on the RDF and the Named Graph data models,
    see [<a href="#RDFCONCEPTS">RDF CONCEPTS</a>]
    and [<a href="#named-graphs">Named Graphs</a>], respectively.

    More specifically, agents exchange collections of named graphs,
    or <i>RDF Datasets</i>, which are defined as in SPARQL [<a href="#SPARQL">SPARQL</a>]:
    an RDF Dataset consists of zero or more graphs
    (where each graph contains zero or more statements), each named by an IRI,
    as well as a single unnamed graph which plays a special role in RDFAgents (see below).
</p>

<p>

<p>
    RDFAgents recognizes only one basic relationship between an agent and a graph: that of <i>assertion</i>.

    The propositional attitude of assertion is inherited from FIPA's <code>inform</code>
    and related communicative acts (see [<a href="#FIPASC00037J">FIPA SC00037J</a>]) and is identified with the act of
    publishing an RDF graph on the Semantic Web.

    An agent which asserts a graph thereby asserts the truth of each RDF statement in the graph
    as a proposition about the world.
</p>

<h3>DM.1 <a id="default-graph" name="default-graph">The default graph</a></h3>

<p>
    For each message sent or received by an agent,
    there is a distinguished, <i>default graph</i> of statements which are subject to the
    propositional attitude of the message.

    Statements included in the default graph of an assertional message
    (see <a href="#messages">below</a>)
    are thereby asserted to be true by the sender of the message,
    while the attitude of the sender towards any graph apart from the default graph
    is a matter of vocabulary, community convention, and interpretation by the receiver,
    and is not specified by RDFAgents.
</p>

<p>
    The default graph of a message cannot be referred to,
    and no two messages share the same default graph.

    As a result, the information directly asserted in a message cannot be qualified with additional metadata,
    and is to be interpreted as a claim of absolute truth.

    On the other hand, provenance metadata may be attached to the information asserted in a <i>previous</i> message
    through the mechanism of graph renaming described <a href="#messages">below</a>.
</p>

<h3>DM.2 <a id="agents" name="agents">Agents</a></h3>

<p>
    An <i>agent</i> in RDFAgents is not only an actor capable of exchanging messages with other agents,
    but also a first-class entity in the Semantic Web descriptions, or RDF Datasets, carried by messages.

    Agents are capable of referring to themselves and to each other,
    an agent's FIPA identity (which is used for the addressing and routing of messages)
    being bound in a one-to-one fashion with its Semantic Web identity.
</p>

<p>
    An agent in RDFAgents must identify itself with a single, globally unique Semantic Web URI,
    and supply this as its FIPA name in each message it sends
    (see <a href="#fipa-agent-identity">below</a> for details on FIPA agent identifiers).

    The agent may also use this URI in self-referential descriptions.

    When an agent receives an assertional message from another agent,
    it associates the FIPA name of the sender with the corresponding URI.
</p>

<h3>DM.3 <a id="metadata" name="metadata">Graph and agent metadata</a></h3>

<p>
    RDFAgents uses a vocabulary drawn from
    the Named Graphs [<a href="#NGVOCAB">NG</a>],
    Friend of a Friend [<a href="#FOAF">FOAF</a>], and
    Semantic Web Publishing [<a href="#SWP">SWP</a>]
    ontologies in order to make statements about named graphs and agents.

    SWP serves to annotate graphs with provenance metadata,
    capturing "who said what" relationships between graphs and agents,
    while FOAF serves to associate agents with their contact information,
    supporting a "word of mouth" style of agent and information discovery.
</p>

<p>
    Specifically, graphs are represented as instances of
    <a href="http://www.w3.org/2004/03/trix/rdfg-1/Graph"><code>rdfg:Graph</code></a>,
    and agents are represented as instances of
    <a href="http://xmlns.com/foaf/spec/#term_Agent"><code>foaf:Agent</code></a>.

    An asserted graph is also implicitly a <i>warrant</i> or <i>warrant graph</i> in the sense of SWP:
    it constitutes a relationship between a set of statements and the <i>authority</i> or agent which
    asserted them.

    This relationship is expressed with the
    <a href="http://www.w3.org/2004/03/trix/swp-2/assertedBy"><code>swp:assertedBy</code></a> and
    <a href="http://www.w3.org/2004/03/trix/swp-2/authority"><code>swp:authority</code></a> properties.

    Finally, agents are annotated with FIPA contact information using the
    <a href="http://xmlns.com/foaf/spec/#term_mbox"><code>foaf:mbox</code></a> property
    (typically used with <code>mailto</code> URIs, but compatible with other URI schemes
    such as <code>http</code> and <code>xmpp</code>).
</p>

<p>
    Note: several features of the Semantic Web Publishing vocabulary are not required by this specification,
    although some are suitable for implementation-specific extensions.

    For example, there is no built-in method of digitally signing named graphs,
    and SWP's notion of the <i>validity period</i> of a warrant is not used:
    like the RDF/XML documents of the Web of Data,
    the information asserted in messages has no temporal or contextual qualifications.
</p>

<h3>DM.4 <a id="messages" name="messages">Assertional messages</a></h3>

<p>
    Although there are several types of messages exchanged by agents (see <a href="#performatives">below</a>),
    only <i>assertional messages</i>
    (i.e. messages with RDF content and which use the FIPA <code>inform-ref</code> performative)
    carry Semantic Web information.
</p>

<p>
    Each assertional message sent or received by an agent carries an RDF Dataset,
    or collection of named graphs,
    in which there are two distinguished resources:
</p>

<ul>
    <li>the sender of the message</li>
    <li>the default graph</li>
</ul>

<p>
    This will be referred to as the <i>sender's dataset</i>.

    It is the RDF Dataset which is visible in serial form as the content of the message.

    Upon accepting an assertional message,
    the receiving agent must apply the following transformation to the sender's dataset:
</p>
<ol>
    <li>name the otherwise unnamed default graph with a newly minted IRI,
        give it the type <a href="http://www.w3.org/2004/03/trix/rdfg-1/Graph"><code>rdfg:Graph</code></a>,
        and add a <a href="http://www.w3.org/2004/03/trix/swp-2/assertedBy"><code>swp:assertedBy</code></a> self-link
    </li>
    <li>give the sender the type <a href="http://xmlns.com/foaf/spec/#term_Agent"><code>foaf:Agent</code></a>
        and add a <a href="http://xmlns.com/foaf/spec/#term_mbox"><code>foaf:mbox</code></a> link
        from the sender to each of its transport addresses
        (see <a href="#fipa-transport-addresses">below</a>)
    </li>
    <li>add an <a href="http://www.w3.org/2004/03/trix/swp-2/authority"><code>swp:authority</code></a> link
        from the (previously) default graph to the sender
    </li>
    <!--<li>optionally, attach additional metadata to the graph, such as a timestamp or a certificate,
        and/or to the sender, such as contact information
    </li>-->
</ol>
<p>
    Optional metadata may be included, as well, such as a timestamp or a certificate.

    All new metadata belongs to the <i>new</i> default graph.
</p>

<p>
    The result of this transformation, called the <i>receiver's dataset</i>,
    is independent of the communicative act itself,
    yet captures the informational content and assertional intent of the message.

    It also serves to record a provenance trail which gives due credit to information providers
    and supports information consumers in deciding which information to accept
    and in discovering further information.

    In a real-world application, the receiver's dataset can be added to a local RDF store for query answering,
    or sent verbatim to other agents,
    who may either trust to its accuracy or verify it by contacting the sender directly.
</p>

<p>
    Graph quotation serves a dual purpose in RDFAgents: it gives due credit to information providers,
    while also giving information consumers a means of contacting providers in order to verify syndicated information
    or to find additional information.
</p>

<p>
    Example of a sender's dataset (of agent <code>ex:rdfnews</code>):
</p>
<pre class="data">
{
    ex:article137 a sioc:Post ;
        dc:title "1st Beijing International Film Festival kicked off on Saturday" ;
        dc:created "2011-04-25T10:43:35.000Z"^^xsd:dateTime ;
        sioc:topic &lt;http://dbpedia.org/resource/Beijing&gt; .
}
</pre>
<p>
    A corresponding receiver's dataset (of agent <code>ex:syndicator</code>):
</p>
<pre class="data">
ex:f93bbef965 {
    ex:article137 a sioc:Post ;
        dc:title "1st Beijing International Film Festival kicked off on Saturday" ;
        dc:created "2011-04-25T10:43:35.000Z"^^xsd:dateTime ;
        sioc:topic &lt;http://dbpedia.org/resource/Beijing&gt; .
}

{
    ex:f93bbef965 a rdfg:Graph ;
        swp:assertedBy ex:f93bbef965 ;
        swp:authority ex:rdfnews .

    ex:rdfnews a foaf:Agent ;
        foaf:mbox &lt;xmpp:rdfnews@example.org&gt; .
}
</pre>
<p>
    A second-degree receiver's dataset (of agent <code>ex:consumer</code>):
</p>
<pre class="data">
ex:f93bbef965 {
    ex:article137 a sioc:Post ;
        dc:title "1st Beijing International Film Festival kicked off on Saturday" ;
        dc:created "2011-04-25T10:43:35.000Z"^^xsd:dateTime ;
        sioc:topic &lt;http://dbpedia.org/resource/Beijing&gt; .
}

ex:4cbf3b9acd {
    ex:f93bbef965 a rdfg:Graph ;
        swp:assertedBy ex:f93bbef965 ;
        swp:authority ex:rdfnews .

    ex:rdfnews a foaf:Agent ;
        foaf:mbox &lt;xmpp:rdfnews@example.org&gt; .
}

{
    ex:4cbf3b9acd a rdfg:Graph ;
        swp:assertedBy ex:4cbf3b9acd ;
        swp:authority ex:syndicator .

    ex:syndicator a foaf:Agent ;
        foaf:mbox &lt;xmpp:syndicator@example.org&gt; .
}
</pre>

<h3>DM.5 <a id="lifting-rules" name="lifting-rules">Lifting rules</a> (informative)</h3>

<hr/>
<!-- ................................................................. -->

<h2>P <a id="messaging" name="messaging">Messaging</a></h2>

<p>
    ...

    An RDFAgents <i>platform</i> is a

    An <i>agent</i> is


    Agents communicate by exchanging <i>messages</i> which represent speech acts,
    and which are encoded in an <i>agent communication language</i>.

    RDFAgents uses the least expressive subset, <code>fipa-sl0</code>,
    of FIPA's standard Semantic Language [<a href="#FIPASC00008I">FIPA SC00008I</a>]
    for agent communication.

    The Semantic Language uses S-expression syntax,
    as in the Lisp family of programming languages,
    and permits the expression of <i>propositions</i> or statements of truth,
    <i>actions</i> representing speech acts,
    and <i>references</i> to objects in the domain of discourse
    (which in RDFAgents is a domain of queries and subscriptions).
</p>

<p>
    Note: message encoding is to be specified in the FIPA <i>message envelope</i> which encloses each ACL message.
</p>

<h3>AR.1 <a id="performatives" name="performatives">Performatives</a></h3>

<p>
    For each FIPA message there is a distinct <i>performative</i>,
    which identifies the type of communicative act constituted by the message
    (see [<a href="#FIPASC00037J">FIPA SC00037J</a>]).

    The performatives used within RDFAgents include:
</p>
<ul>
    <li><code>cancel</code>: requests the cancellation of a subscription</li>
    <li><code>failure</code>: indicates an error in query answering or stream processing</li>
    <li><code>inform-done</code>: acknowledges cancellation of a subscription</li>
    <li><code>inform-result</code>: informs an agent of an update or the result of a query</li>
    <li><code>not-understood</code>: indicates a communication error</li>
    <li><code>query-ref</code>: poses a query</li>
    <li><code>refuse</code>: refuses a query or a subscription request</li>
    <li><code>subscribe</code>: requests a subscription to a stream of updates</li>
</ul>
<p>
    Of these,
</p>

<h3>AR.2 <a id="sending-messages" name="sending-messages">Sending messages</a></h3>

<p>
    The ability to send messages to other agents in an asynchronous,
    transport-agnostic fashion is built in to any concrete FIPA implementation.

    In order to send a message, an agent needs the recipient's name, which in RDFAgents is a URI,
    and one or more transport addresses, which are also URIs.

    An agent can "reply" to a message in an already-initiated interaction
    by using the name and transport addresses supplied in the <code>sender</code> field of the that message.
</p>

<p>
    In order to <i>initiate</i> an interaction, however,
    an agent needs to have acquired the identity of the recipient from some other source.

    The most basic way to do this in RDFAgents is to issue a SPARQL query over all accepted statements,
    e.g. to find the agent responsible for a previously asserted graph:
</p>

<pre class="data">
PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
PREFIX swp: &lt;http://www.w3.org/2004/03/trix/swp-2/&gt;

SELECT ?graph ?agent ?address WHERE {
    ?graph swp:assertedBy ?warrant .
    ?warrant swp:authority ?agent .
    ?agent foaf:mbox ?address .
}
</pre>

<p>
    This gives the agent enough information to send a message,
    provided that graph metadata was recorded in the manner specified
    <a href="#messages">above</a> and at least one of the relevant transport protocols is supported.
</p>

<p>
    Agents should supply all of their contact information, i.e. transport addresses, in each message sent,
    so as to give the other party (as well as second-hand information consumers)
    as many options as possible for initiating new interactions.
</p>

<p>
    In addition, the use of FIPA's <code>conversation-id</code> parameter
    is mandatory in RDFAgents:
    the initiator of an interaction must coin a globally unique identifier
    which is to be used in every message in the interaction.

    This allows an agent to have any number of concurrent "conversations" with another agent.
</p>

<h3>AR.3 <a id="message-content" name="message-content">Message content</a></h3>

<p>
    The propositional content of a message is expressed in a FIPA <i>content language</i>,
    for which RDFAgents uses either <code>fipa-sl0</code>
    or one of a number of special-purpose languages based on RDF document formats,
    depending on role of the message within a particular protocol.

    For example, an agent uses <code>fipa-sl0</code>
    to subscribe to a stream of updates about a Semantic Web resource,
    while the content of the updates it receives is expressed in TriG, N-Quads, or another RDF format.

    In general, RDF content is used only for assertional messages,
    which represent claims about the world, similar to Semantic Web documents.

    Messages for all other purposes
    (for example, posing a query, requesting or confirming a subscription)
    use <code>fipa-sl0</code>.<sup><a href="#note1_note">[1]</a></sup><a name="note1_ref">&nbsp;</a>
</p>

<p>
    FIPA SL content in RDFAgents is explicitly grounded in a domain ontology with the name
    <code>rdfagents</code> (see <a href="#domain-language-and-ontology">below</a> for details),
    while RDF content is implicitly grounded in the universal representational space of the Semantic Web.

    Throughout this specification, when a message is said to use the <code>rdfagents</code> domain ontology,
    its content is understood to be expressed in the <code>fipa-sl0</code> content language, and vice versa.

    This must be indicated in each message through the use of the FIPA
    <code>language</code> and <code>ontology</code> parameters
    (see [<a href="#FIPASC00061G">FIPA SC00061G</a>]).
</p>

<h4>AR.3.2 <a id="rdf-content-languages" name="rdf-content-languages">RDF content languages</a></h4>

<p>
    RDFAgents defines the following RDF-based content languages:
</p>

<ul>
    <li><code>rdf-ntriples</code>: the language of expressions in N-Triples [<a href="#NTriples">N-Triples</a>],
        a line-based, plain-text format for RDF graphs.
        In RDFAgents, every N-Triples triple represents a statement in the default graph.
    </li>
    <li><code>rdf-turtle</code>: the language of expressions in the Turtle [<a href="#Turtle">Turtle</a>]
        plain-text format.
        All statements belong to the default graph.
    </li>
    <li><code>rdf-n3</code>: the language of expressions in the N3-rdf subset
        of Notation3 [<a href="#Notation3">Notation3</a>],
        itself a superset of N-Triples and Turtle.
        All statements belong to the default graph.
    </li>
    <li><code>rdf-xml</code>: the language of expressions in RDF/XML [<a href="#RDFXML">RDF/XML</a>],
        the most widely supported RDF format.
        All statements belong to the default graph.
    </li>
    <li><code>rdf-nquads</code>: the language of expressions in the N-Quads [<a href="#NQuads">N-Quads</a>] format,
        which extends N-Triples with context.
        In RDFAgents, the context component of an N-Quads tuple must be a graph name.
        If a tuple has no context component, it represents a statement in the default graph;
        otherwise, it represents a statement in the graph thus named.
    </li>
    <li><code>rdf-trig</code>: the language of expressions in the TriG [<a href="#TriG">TriG</a>] format,
        which expressly supports Named Graphs and RDF Datasets.
        The <i>unnamed graph</i> (if any) in a TriG document is identified with the default graph in RDFAgents.
    </li>
    <li><code>rdf-trix</code>: the language of expressions in the TriX [<a href="#TriX">TriX</a>] XML-based format
        with support for graph names.
        Named and unnamed graphs are interpreted as in <code>rdf-trig</code>.
    </li>
</ul>

<p>
    An RDFAgents platform must support at least one of the above languages,
    where supporting a language means that the platform can both parse and write the full range of valid
    expressions in the language to and from the corresponding RDF Datasets.

    However, an RDFAgents platform need not support all of the above languages.

    For the sake of interoperability,
    it is recommended that the <code>rdf-xml</code> and <code>rdf-nquads</code> languages be supported.
</p>

<p>
    Agents may use additional RDF-based content languages which are understood, a priori, by both
    participants in a conversation.

    For example, an agent which receives a request for query results in "<code>rdf-json</code>"
    may choose to respond with a content expression in the
    <a href="http://docs.api.talis.com/platform-api/output-types/rdf-json">Talis RDF/JSON format</a>.

    It is up to the requester to validate the response against the expected format.
</p>

<h4>AR.3.3 <a id="handling-rdf-content" name="handling-rdf-content">Handling RDF content</a></h4>

<p>
    It is assumed that, for each supported RDF content language,
    an RDFAgents implementation conserves the meaning of every RDF Dataset expressible in the language
    (i.e. produces an equivalent RDF Dataset) when mapping it to a serial form and back again.

    However, the various RDF content languages differ in expressiveness with respect to Named Graphs:
    four of them cannot express named graphs at all,
    while <code>rdf-nquads</code> cannot express an <i>empty</i> named graph or default graph.

    The following rules compensate for these differences.
</p>

<p>
    When mapping a (sender's) RDF Dataset into the RDF content of a message:
</p>
<ol>
    <li>omit empty named graphs.
        This will in some cases result in the receiver seeing a slightly different sender's dataset than the sender,
        but one whose meaning is the same, insofar as metadata about an empty graph is useless.
        Note that a default graph is required in every RDF Dataset, even if it is empty.
    </li>
    <li>if the RDF content language does not support Named Graphs,
        omit all graphs apart from the default graph.
        This may result in a significant loss of information,
        so the use of a Named Graph format is strongly recommended
        (and also necessary in any application requiring the communication of provenance metadata).
        However, this step will not invalidate the remaining information,
        thanks to the Open World Assumption.
    </li>
</ol>
<p>
    When mapping the RDF content of a message into an RDF Dataset:
</p>
<ol>
    <li>if the sender included any empty named graphs in the serialization, omit them</li>
    <li>if there are no statements which map into the default graph
        (e.g. in <code>rdf-nquads</code> content in which every statement is a quad),
        let there be an empty default graph
    </li>
</ol>

<hr/>
<!-- ................................................................. -->

<h2>P <a id="protocols" name="protocols">Protocols</a></h2>

<p>
    A FIPA agent potentially follows any number of <i>interaction protocols</i>,
    which govern the flow of a conversation in various contexts.

    For example, there are FIPA standard protocols for making requests,
    proposing actions, and negotiating contracts.

    RDFAgents deals with two, closely related protocols in particular:
    a Query protocol for simple request-response information sharing
    and a Publish-Subscribe protocol for event-driven information streams.
</p>

<p>
    Both protocols distinguish between a pair of roles corresponding to an information consumer
    and an information provider, and every RDFAgent agent must be capable of playing all four roles
    interchangeably.

    However, an agent's function in a given role may be minimal,
    e.g. as a Publish-Subscribe publisher which simply refuses all subscription requests.
</p>

<p>
    Both interaction protocols may be used in combination with any transport protocol
    supported by the underlying FIPA implementation
    and which supports <i>ordered delivery of messages</i>
    (this is true, for example, of the HTTP and XMPP protocols).
</p>

<h3>P.1 <a id="query" name="query">Query</a></h3>

<p>
    The Query protocol allows an agent to request a single chunk of information from another agent.

    It is based on the FIPA standard Query Interaction Protocol [<a href="#FIPASC00027H">FIPA SC00027H</a>]
    identified by <code>fipa-query</code>.
</p>

<p class="figure">
    <img src="query-protocol.png" width="387" height="320" alt="RDFAgents query protocol"/>
    <br/>
    Figure 1: the Query protocol
</p>

<p>
    The Query protocol involves two otherwise equal participants which assume the roles of a <i>client</i>
    requesting information from a <i>server</i>.

    The client initiates a Query interaction by posing a query to the server in the form of a FIPA
    <code>query-ref</code> message,
    where the query is expressed using an RDFAgents query form (see <a href="#describe-query">below</a>)
    in the <code>fipa-sl0</code> content language.
</p>

<p>
    Upon receipt of the query, the server either agrees or refuses to evaluate it.

    If the server refuses, it sends a <code>refuse</code> message to the client
    whose content is an explanation in the <code>fipa-sl0</code> content language, completing the interaction.

    If the server agrees, it chooses whether to send an <code>agree</code> notification to the client
    or to proceed directly to the evaluation of the query.
</p>

<p>
    After the answer to the query (an RDF Dataset) has been determined,
    the server completes the interaction with an <code>inform-result</code> message
    carrying the dataset in one of the RDF content languages.
</p>

<h4>P.1.1 <a id="describe-query" name="describe-query">The <code>describe</code> query form</a></h4>

<p>
    This version of RDFAgents supports exactly one type of query, called <code>describe</code>,
    which accepts a single RDF resource and returns an RDF Dataset of information about it.

    This is similar to SPARQL's <a href="http://www.w3.org/TR/rdf-sparql-query/#describe">DESCRIBE</a> query form
    in that the way in which the server selects an appropriate chunk of information describing the given resource is
    unspecified.

    The relationship of a <code>describe</code> query result to its argument is analogous to the relationship of
    an associated RDF description with a dereferenceable HTTP URI in Linked Data.
</p>

<p>
    The client may request the query result to be expressed in a particular RDF format
    by indicating the corresponding RDF content language with the <code>language</code> parameter.

    When this is the case, the server must either return results in the specified language,
    or raise an exception in the form of a <code>failure</code> message if that language is not supported
    (see <a href="#query-exceptions">below</a> for more information on exceptions).

    Otherwise, the query result may use any one of the built-in RDF content languages listed
    <a href="#rdf-content-languages">above</a>.
</p>

<p>
    Example of a query message:
</p>

<pre class="data">
(query-ref
    :sender (agent-identifier
        :name http://fortytwo.net/agents/smith
	:addresses (sequence xmpp:smith@fortytwo.net))
    :receiver (set (agent-identifier
	:name http://example.org/rdfnews
	:addresses (sequence xmpp:rdfnews@example.org)))
    :protocol fipa-query
    :conversation-id c976b710a5
    :language fipa-sl0
    :ontology rdfagents
    :content "(describe (uri http://dbpedia.org/resource/Beijing) :language rdf-trig)")
</pre>

<p>
    Query result:
</p>

<pre class="data">
(inform-result
    :sender (agent-identifier
        :name http://example.org/rdfnews
	:addresses (sequence xmpp:rdfnews@example.org))
    :receiver (set (agent-identifier
        :name http://fortytwo.net/agents/smith
	:addresses (sequence xmpp:smith@fortytwo.net)))
    :protocol fipa-query
    :conversation-id c976b710a5
    :language rdf-trig
    :content &quot;
@prefix ex: &lt;http://example.org/&gt; .
@prefix dc: &lt;http://purl.org/dc/terms/&gt; .
@prefix sioc: &lt;http://rdfs.org/sioc/ns#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .

{
    ex:article137 a sioc:Post ;
        dc:title \"1st Beijing International Film Festival kicked off on Saturday\" ;
        dc:created \"2011-04-25T10:43:35.000Z\"^^xsd:dateTime ;
        sioc:topic &lt;http://dbpedia.org/resource/Beijing&gt; .
}&quot;)
</pre>

<h4>P.1.2 <a id="query-results" name="query-results">Interpretation of query results</a></h4>

<p>
    In RDFAgents, the <code>inform-result</code> message which supplies the query result
    has the same propositional status as an <code>inform</code> message
    (see [<a href="#FIPASC00037J">FIPA SC00037J</a>]):
    it is an assertion by the server that the content of the message is a true proposition,
    or in RDFAgents terms,
    that all statements in the default graph of the sender's dataset are true.

    Furthermore, it is an assertion not only to the client which issued the query,
    but to all potential information consumers,
    making the act of sending such a message analogous to that of publishing a document on the Semantic Web.
</p>

<p>
    After constructing the receiver's dataset for the query result,
    the client may pass it on to any other agent, at any time,
    simply by including it in the sender's dataset of another message.
</p>

<h4>P.1.3 <a id="query-exceptions" name="query-exceptions">Exceptions</a></h4>

<p>
    At any point in a Query interaction,
    the client or server can inform the other party that it did not understand what was communicated,
    possibly ending the interaction.

    This is accomplished with a <code>not-understood</code> message which optionally contains an error explanation
    in the <code>rdfagents</code> domain ontology.
</p>

<p>
    If the server understands the query but fails to produce a query result,
    it must send a <code>failure</code> message to the client with an explanation in the
    <code>rdfagents</code> domain ontology, ending the interaction.

    See <a href="#errors">below</a> for more information on error explanations.
</p>

<p>
    In addition, a Query interaction may be cancelled by the client at any time
    (i.e. after issuing the query and before receiving a query result) by initiating the FIPA Cancel meta-protocol
    using a <code>cancel</code> message.
</p>

<h3>P.2 <a id="pubsub" name="pubsub">Publish-Subscribe</a></h3>

<p>
    The Publish-Subscribe protocol enables event-driven streams from information providers to information consumers
    according to topics of interest.

    It is based on the FIPA standard Subscribe Interaction Protocol [<a href="#FIPASC00035H">FIPA SC00035H</a>]
    identified by <code>fipa-subscribe</code>.
</p>

<p class="figure">
    <a id="figure2" name="figure2">
        <img src="pubsub-protocol.png" width="387" height="419" alt="RDFAgents publish-subscribe protocol"/>
        <br/>
        Figure 2: the Publish-Subscribe protocol
    </a>
</p>

<p>
    The Publish-Subscribe protocol involves two otherwise equal participants
    which assume the roles of a <i>subscriber</i> requesting a stream of informative updates from a <i>publisher</i>.

    A Publish-Subscribe interaction begins with the subscriber issuing a subscription request
    in the form of a FIPA <code>subscribe</code> message.

    The language, ontology and content of this message
    are subject to the same constraints as a query in the Query protocol,
    the only difference being the performative and the <code>protocol</code> field of the message.

    Specifically, the subscription request must contain a <code>describe</code> query form
    in the <code>fipa-sl0</code> content language whose argument is the topic of the desired stream.
</p>

<p>
    Upon receipt of the subscription request, the publisher either agrees or refuses to
    register a corresponding subscription.

    If the publisher refuses, it sends a <code>refuse</code> message to the client
    whose content is an explanation in the <code>fipa-sl0</code> content language, completing the interaction.

    If the publisher agrees, it must send an <code>agree</code> notification as its first message to the
    subscriber in the current interaction (i.e. before it sends any updates).
</p>

<p>
    <i>Updates</i> are communicated by the publisher to the subscriber in the same manner as Query results,
    using <code>inform-ref</code> messages carrying RDF Datasets.

    The only difference between Query results and Publish-Subscribe updates
    (apart from the <code>protocol</code> field) is that there is at most one result per query,
    while there are any number of updates per subscription.
</p>

<p>
    Unless an exception occurs (see <a href="#pubsub-exceptions">below</a>),
    the subscription remains active until it is cancelled by the subscriber with a <code>cancel</code> message,
    which the publisher acknowledges with an <code>inform-done</code> message before terminating the subscription
    and thereby completing the interaction.

    At that point, no further updates should be sent.
</p>

<p>
    Example of a subscription request:
</p>

<pre class="data">
(subscribe
    :sender (agent-identifier
        :name http://fortytwo.net/agents/smith
        :addresses (sequence xmpp:smith@fortytwo.net))
    :receiver (set (agent-identifier
        :name http://example.org/rdfnews
        :addresses (sequence xmpp:rdfnews@example.org)))
    :protocol fipa-subscribe
    :conversation-id  089f5b468e
    :language fipa-sl0
    :ontology rdfagents
    :content "(describe (uri http://dbpedia.org/resource/Beijing) :language rdf-trig)")
</pre>
<p>
    Subscription confirmation:
</p>

<pre class="data">
(agree
    :sender (agent-identifier
        :name http://example.org/rdfnews
        :addresses (sequence xmpp:rdfnews@example.org))
    :receiver (set (agent-identifier
        :name http://fortytwo.net/agents/smith
        :addresses (sequence xmpp:smith@fortytwo.net)))
    :protocol fipa-subscribe
    :conversation-id 089f5b468e)
</pre>

<p>
    An update:
</p>

<pre class="data">
(inform-result
    :sender (agent-identifier
        :name http://example.org/rdfnews
	:addresses (sequence xmpp:rdfnews@example.org))
    :receiver (set (agent-identifier
        :name http://fortytwo.net/agents/smith
	:addresses (sequence xmpp:smith@fortytwo.net)))
    :protocol fipa-subscribe
    :conversation-id 089f5b468e
    :language rdf-trig
    :content &quot;
@prefix ex: &lt;http://example.org/&gt; .
@prefix dc: &lt;http://purl.org/dc/terms/&gt; .
@prefix sioc: &lt;http://rdfs.org/sioc/ns#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .

{
    ex:article137 a sioc:Post ;
        dc:title \"1st Beijing International Film Festival kicked off on Saturday\" ;
        dc:created \"2011-04-25T10:43:35.000Z\"^^xsd:dateTime ;
        sioc:topic &lt;http://dbpedia.org/resource/Beijing&gt; .
}&quot;)
</pre>

<h4>P.2.1 <a id="pubsub-updates" name="pubsub-updates">Interpretation of updates</a></h4>

<p>
    As in the Query protocol, an <code>inform-result</code> message containing an update
    has the same propositional status as an <code>inform</code> message:
    it is an assertion by the publisher, to all potential information consumers,
    that all statements in the default graph of the sender's dataset are true.

    This provides a method of publishing data streams on the Semantic Web which is analogous to the publishing of
    RDF documents.
</p>

<p>
    After constructing the receiver's dataset for the update,
    the client may pass it on to any other agent, at any time,
    simply by including it in the sender's dataset of another message.
</p>

<h4>P.2.2 <a id="pubsub-exceptions" name="pubsub-exceptions">Exceptions</a></h4>

<p>
    Exceptions to the Publish-Subscribe protocol are analogous to those of the Query protocol
    (see <a href="#query-exceptions">above</a>).

    A depiction of the FIPA Cancel meta-protocol is included in <a href="#figure2">Figure 2</a> because
    the eventual cancellation of a subscription is a normal and expected event,
    unlike the cancellation of a query.
</p>

<hr/>
<!-- ................................................................. -->

<h2>FC <a id="fipa-compliance" name="fipa-compliance">FIPA compliance</a></h2>

<p>
    The FIPA Abstract Architecture [<a href="#FIPASC00001L">FIPA SC00001L</a>]
    defines architectural elements of agent platforms and their relationships,
    and provides guidelines for the instantiation and interoperability of agent systems.
</p>

<p class="quote">
    In order for a concrete architectural specification to be FIPA compliant, it must have certain properties.
    First, the concrete architecture must include mechanisms for agent registration and agent discovery and inter-agent
    message transfer.
    These services must be explicitly described in terms of the corresponding elements of the FIPA Abstract
    Architecture.
</p>

<p>
    Any concrete implementation of RDFAgents, or <i>RDFAgents platform</i>,
    must realize the mandatory elements of the FIPA Abstract Architecture.

    The following subsections will describe additional constraints imposed by RDFAgents with respect to FIPA compliance,
    and discuss optional elements of FIPA which are not required by RDFAgents.

    All elements of FIPA not discussed in the following are to be considered independent of RDFAgents,
    and may be realized in implementation-specific ways.
</p>

<p>
    ...RDFAgents does not deal with intention, only with the communication of propositions which are absolutely true or
    false...
</p>

<h3>FC.1 <a id="fipa-agent-identity" name="fipa-agent-identity">Agent identity</a></h3>

<p>
    FIPA defines an agent identifier (AID) as an extensible collection of parameter-value pairs comprising a
    <i>name</i> or globally unique identifier for the agent,
    zero or more <i>transport addresses</i> at which the agent can receive messages, and
    zero or more <i>resolvers</i> or name resolution service addresses.
</p>

<h4>FC.1.1 <a id="fipa-agent-name" name="fipa-agent-name">Agent name</a></h4>

<p>
    At creation or registration time, a FIPA agent must be given an <i>agent name</i>
    which has a durable relationship with the agent it identifies and
    which is chosen in such a way as to ensure global uniqueness.

    An agent name should have no semantics:
</p>

<p class="quote">
    It should not encode any actual properties of the agent itself,
    nor should it disclose related information such as agent transport-description or location.
    It should also not be used as a form of authentication of the agent.
</p>

<p>
    To facilitate the RDF description of agents,
    the name of an RDFAgents agent must be a Semantic Web URI which should be drawn from a URI space controlled by its
    owner.

    As such, it should be an HTTP URI associated with an RDF
    description of the agent which can be obtained by dereferencing the URI, in the manner of Linked Data.
</p>

<p>
    The resource denoted by the agent name is implicitly an instance of
    <a href="http://xmlns.com/foaf/spec/#term_Agent"><code>foaf:Agent</code></a>
    within RDFAgents and should be explicitly declared as such in RDF descriptions mentioning the agent.
</p>

<p>
    The Semantic Web URI of a <a href="http://xmlns.com/foaf/spec/#term_Person"><code>foaf:Person</code></a>
    may be used as an agent name
    only if the agent and the person thus identified are identical for the purpose of information exchange.

    This may be the case, for example, when an agent acting as a personal assistant is given the task of sending and
    receiving
    messages on behalf of its owner.

    Note, however, that any discoverable contact information of the person which is not valid contact information of the
    agent may lead to unwanted and ineffectual messages from other agents.

    Additionally, it should be kept in mind that the contact information of an agent is shared freely in RDFAgents,
    much as URIs are shared in Linked Data,
    while the sharing of personal contact information is subject to concerns of privacy and spam control.
</p>

<h4>FC.1.2 <a id="fipa-transport-addresses" name="fipa-transport-addresses">Transport addresses</a></h4>

<p>
    A transport address is a physical address at which an agent can be contacted.

    It is usually specific to a particular protocol (for example, HTTP or XMPP).

    A given agent may support multiple methods of communication and therefore may have multiple transport addresses.

    Since an agent's transport addresses are used as authoritative contact information in RDF
    descriptions of the agent (see <a href="#messages">above</a>),
    it is necessary for an agent's transport address(es) to be compatible with such use.
</p>

<p>
    The EBNF syntax of a FIPA transport address is the same as that of a URL given in [<a href="#RFC2396">RFC 2396</a>].

    It is thereby also a URI, and can be used as a resource name in RDF descriptions of the agent.

    The the scheme part of the transport addresses of an agent in RDFAgents should correspond
    to a well-known messaging protocol (e.g. <code>http</code> or <code>xmpp</code>),
    and their scheme-specific part should serve to identify the recipient in an unambiguous, global fashion.
</p>

<p>
    Every agent in an RDFAgents platform requires at least one transport address.

    For compatibility with <a href="http://xmlns.com/foaf/spec/#term_mbox"><code>foaf:mbox</code></a>
    (an inverse functional property), no two agents may share the same transport address(es).

    The agent platform itself does not require a transport address and does not need to send or receive messages.
</p>

<h4>FC.1.3 <a id="fipa-name-resolution" name="fipa-name-resolution">Name resolution</a></h4>

<p>
    RDFAgents does not require the use of FIPA's <i>resolvers</i> parameter of the agent ID (although it does not
    probihit its use).

    No specialized lookup services are provided for agent names.

    Instead, transport addresses are inferred from the RDF descriptions of agents.

    An RDFAgents platform must be capable of reading RDF descriptions and applying at least the following rule for the
    mapping of contact information to transport addresses.
</p>

<p>
    Every RDFAgents platform must include a list of transport-level services with which it is capable of interoperating.

    This list may contain as few as a single service, identified by the URL of its home page.

    Each service must be bound to a transport protocol such that,
    when the platform is provided with the service-specific identifier of a recipient,
    it can send a message to that recipient using the associated protocol.
</p>

<p>
    For example, the following RDF description provides sufficient information for the sending of a message over
    XMPP to the agent identified by <code>rdfnews@example.org</code> on Jabber:
</p>

<pre class="data">
{
    ex:rdfnews a foaf:Agent ;
        foaf:name &quot;RDF News Agent&quot; ;
        foaf:account [
            a foaf:OnlineAccount ;
            foaf:accountServiceHomepage &lt;http://www.jabber.org/&gt; ;
            foaf:accountName &quot;rdfnews@example.org&quot; ] .
}</pre>

<p>
    In order to make use of this information, an RDFAgents platform must interoperate with the service
    identified by <code>http://www.jabber.org/</code>,
    which involves knowing that it is an XMPP-based service, supporting the XMPP protocol, and having a Jabber account.
</p>
<!--Furthermore, the combination of a name and a transport address is expected to be sufficient for the delivery of a message
through the Internet without the assistance of specialized intermediary services.-->


<h3>FC.2 <a id="fipa-agent-management" name="fipa-agent-management">Agent management</a></h3>

<p>
    FIPA Agent Management [<a href="#FIPASC00023K">FIPA SC00023K</a>] provides the normative
    framework
    within which FIPA agents exist and operate.

    It establishes the logical reference model for the creation, registration, location, communication, migration and
    retirement of agents.

    A mandatory component of this model is the <i>agent management system</i>, or AMS,
    which exerts supervisory control over access to and use of the platform.

    It provides agent identifiers to agents and maintains a directory of identifiers,
    providing a white pages service for all agents.
</p>

<p>
    However, the AMS is no more than an internal component of a conforming RDFAgents implementation;
    this specification is concerned only with peer-to-peer communication between platforms
    (as opposed to intra-platform communication),
    and there is no operation within RDFAgents which requires the sending of a message to the AMS of a remote platform.
</p>
<!-- a typical usage scenario involves only one agent per platform -->

<h3>FC.2.1 <a id="fipa-service-discovery" name="fipa-service-discovery">Service discovery</a></h3>

<p>
    RDFAgents neither requires nor prohibits the use of FIPA's optional <i>directory facilitator</i>,
    which maintains an index of agents in a platform and provides a yellow pages service for agents.

    The role of the directory facilitator is considered to be fulfilled in RDFAgents by the &quot;word of mouth&quot;
    mechanism of service discovery via RDF descriptions.
</p>

<h3>FC.4 <a id="fipa-message-exchange" name="fipa-message-exchange">Inter-agent message exchange</a></h3>

<p>
    All FIPA agents must have access to at least one <i>message transport service</i>,
    or concrete implementation of a protocol for sending and receiving messages.

    The ways in which transport addresses are mapped to transport protocols
    (e.g. as an <code>xmpp:</code> URI is mapped to the XMPP protocol),
    as well as the ways in which an agent chooses from among different transport addresses for the same agent,
    are not specified in FIPA or RDFAgents.
</p>

<p>
    RDFAgents does not make use of FIPA's experimental RDF content language [<a href="#fipa-rdf">FIPA RDF</a>],
    which predates Named Graphs (using RDF reification for statement metadata)
    and differs in intent from RDFAgents,
    which separates the representation of <i>knowledge</i> in RDF with Named Graphs
    from the representation of <i>actions</i> in FIPA's built-in Semantic Language.
</p>

<hr/>
<!-- ................................................................. -->

<h2>IO <a id="integration" name="integration">Integration</a> (informative)</h2>

<p>
    ...
</p>

<h3>IO.1 <a id="linked-data" name="linked-data">Linked Data</a></h3>

<p>
    ...
</p>

<h3>IO.2 <a id="data-streams" name="data-streams">RDF streams</a></h3>

<p>
    ... C-SPARQL ...
    ... SPARQLPush ...
</p>

<h3>IO.3 <a id="other-agents" name="other-agents">Agent-based systems</a></h3>

<p>
    ...
</p>

<hr/>
<!-- ................................................................. -->

<h2>A. <a id="domain-language-and-ontology" name="domain-language-and-ontology">Domain language and ontology</a></h2>

<p>
    The RDFAgents domain ontology, identified by <code>rdfagents</code>,
    provides a simple model of queries and error explanations for use in FIPA messages.

    It is used in combination with a grammar of legal S-expressions in the <code>fipa-sl0</code> content language.
</p>

<h3>A.1 <a id="rdf-resources" name="rdf-resources">RDF resources</a></h3>

<p>
    A <a href="http://www.w3.org/TR/rdf-concepts/#dfn-URI-reference">URI reference</a>
    is constructed with the <code>uri</code> function,
    whose only parameter expects a Unicode string encoded as described in
    [<a href="#RDFCONCEPTS">RDF CONCEPTS</a>].
</p>

<p>
    Example of a URI:
</p>
<pre class="data">
(uri http://example.org/ArthurDent)
</pre>
<p>
    <a href="http://www.w3.org/TR/rdf-concepts/#section-Graph-Literal">Literals</a>
    are constructed with the function <code>literal</code> with one required parameter,
    which expects the label of the literal as the quoted form of a string encoded in Unicode Normal Form C
    (as described in [<a href="#RDFCONCEPTS">RDF CONCEPTS</a>]),
    and optional named parameters <code>language</code> and <code>datatype</code>,
    which expect a language tag (see [<a href="#RFC3066">RFC 3066</a>]) and a URI reference, respectively.
</p>

<p>
    Example of a literal:
</p>
<pre class="data">
(literal "42" :datatype (uri http://www.w3.org/2001/XMLSchema#integer))
</pre>
<p>
    <a href="http://www.w3.org/TR/rdf-concepts/#section-blank-nodes">Blank nodes</a> cannot be referred to directly.
</p>

<h3>A.2 <a id="queries" name="queries">Queries</a></h3>

<p>
    The <code>describe</code> query form constructs a referential expression for an RDF Dataset
    describing some resource (see <a href="#describe-query">above</a>).

    Its one position-dependent parameter expects the RDF resource (URI reference or literal) to be described,
    while an optional <code>language</code> parameter expects an RDF content language.

    Built-in content languages include
    <code>rdf-n3</code>,
    <code>rdf-nquads</code>,
    <code>rdf-ntriples</code>,
    <code>rdf-trig</code>,
    <code>rdf-trix</code>,
    <code>rdf-turtle</code>, and
    <code>rdf-xml</code>, as described <a href="#rdf-content-languages">above</a>,
    but any string is acceptable.
</p>

<p>
    Example of a query:
</p>
<pre class="data">
(describe (uri http://example.org/ArthurDent) :language rdf-trix)
</pre>

<h3>A.3 <a id="errors" name="errors">Errors</a></h3>

<p>
    An <i>error</i> may be defined loosely as any event or circumstance which departs from the ordinary flow of
    an interaction and requires explanation.

    Error explanations in the <code>rdfagents</code> ontology may (and in some cases, must) be used as the content of a
    <code>not-understood</code>, <code>failure</code>, or <code>refuse</code> message.
</p>

<p>
    An error explanation is constructed as an <code>error</code> functional term
    containing a type-specific error message.

    The latter must apply one of the following functions to a quoted string with a natural-language
    description of the error:
</p>

<ul>
    <li><code>external-error</code>: indicates an error which the agent attributes to the other party in the
        interaction.
        Used when no more specific error type is appropriate, similar to the 400 HTTP response status code.
    </li>
    <li><code>interaction-expired</code>: indicates that the agent no longer considers the present interaction
        to be in progress (for example, if an implicit subscription lease has timed out).
    </li>
    <li><code>internal-error</code>: indicates an error which the agent attributes to itself.
        Used when no more specific error type is appropriate, similar to the 500 HTTP response status code.
    </li>
    <li><code>invalid-content</code>: indicates that a content entity failed a syntactic or semantic constraint
        (for example, on account of a badly-formatted query)
    </li>
    <li><code>invalid-message</code>: indicates a high-level problem with a message received
        (for example, missing content or an unknown protocol).
    </li>
    <li><code>not-implemented</code>: indicates a non-implemented feature which is necessary in order to
        continue normally (for example, an unsupported RDF content language)
    </li>
    <li><code>unavailable</code>: indicates that the agent is currently busy or otherwise unable to continue
        normally with the current interaction, without regard to the form or content of a particular message
    </li>
</ul>
<p>
    The type-specific error message may include additional, implementation-specific arguments.
</p>

<p>
    Example error explanation:
</p>
<pre class="data">
(error (invalid-content "function 'describ' is not defined"))
</pre>

<hr/>
<!-- ................................................................. -->

<h2>B. <a id="references" name="references">References</a></h2>

<h3 id="normative-refs">Normative References</h3>
<dl class="bib">

    <dt><a name="FIPASC00001L" id="FIPASC00001L">[FIPA SC00001L]</a></dt>
    <dd><cite>
        <a href="http://www.fipa.org/specs/fipa00001/SC00001L.html">FIPA Abstract Architecture Specification</a>,
        Foundation for Intelligent Physical Agents standard, December 3, 2002.
    </cite></dd>

    <dt><a name="FIPASC00008I" id="FIPASC00008I">[FIPA SC00008I]</a></dt>
    <dd><cite>
        <a href="http://www.fipa.org/specs/fipa00008/SC00008I.html">FIPA SL Content Language Specification</a>,
        Foundation for Intelligent Physical Agents standard, December 3, 2002.
    </cite></dd>

    <dt><a name="FIPASC00023K" id="FIPASC00023K">[FIPA SC00023K]</a></dt>
    <dd><cite>
        <a href="http://www.fipa.org/specs/fipa00023/SC00023K.html">FIPA Agent Management Specification</a>,
        Foundation for Intelligent Physical Agents standard, March 18, 2004.
    </cite></dd>

    <dt><a name="FIPASC00027H" id="FIPASC00027H">[FIPA SC00027H]</a></dt>
    <dd><cite>
        <a href="http://www.fipa.org/specs/fipa00027/SC00027H.html">FIPA Query Interaction Protocol Specification</a>,
        Foundation for Intelligent Physical Agents standard, December 3, 2002.
    </cite></dd>

    <dt><a name="FIPASC00035H" id="FIPASC00035H">[FIPA SC00035H]</a></dt>
    <dd><cite>
        <a href="http://www.fipa.org/specs/fipa00035/SC00035H.html">FIPA Subscribe Interaction Protocol
            Specification</a>,
        Foundation for Intelligent Physical Agents standard, December 3, 2002.
    </cite></dd>

    <dt><a name="FIPASC00037J" id="FIPASC00037J">[FIPA SC00037J]</a></dt>
    <dd><cite>
        <a href="http://www.fipa.org/specs/fipa00037/SC00037J.html">FIPA Communicative Act Library Specification</a>,
        Foundation for Intelligent Physical Agents standard, December 3, 2002.
    </cite></dd>

    <dt><a name="FIPASC00061G" id="FIPASC00061G">[FIPA SC00061G]</a></dt>
    <dd><cite>
        <a href="http://www.fipa.org/specs/fipa00061/SC00061G.html">FIPA ACL Message Structure Specification</a>,
        Foundation for Intelligent Physical Agents standard, December 3, 2002.
    </cite></dd>

    <dt><a name="FOAF" id="FOAF">[FOAF]</a></dt>
    <dd><cite>
        <a href="http://xmlns.com/foaf/spec/">FOAF Vocabulary Specification</a>,
        D. Brickley and L. Miller,
        namespace document,
        <a href="http://xmlns.com/foaf/spec/20100809.html">latest version</a>
        August 9, 2010.
    </cite></dd>

    <dt><a name="NQuads" id="NQuads">[N-Quads]</a></dt>
    <dd><cite>
        <a href="http://sw.deri.org/2008/07/n-quads/">N-Quads: Extending N-Triples with Context</a>,
        R. Cyganiak, A. Harth, and A. Hogan,
        public draft,
        <a href="http://sw.deri.org/2008/07/n-quads/">latest version</a>
        November 12, 2009.
    </cite></dd>

    <dt><a name="NTriples" id="NTriples">[N-Triples]</a></dt>
    <dd><cite>
        <a href="http://www.w3.org/2001/sw/RDFCore/ntriples/">N-Triples</a>,
        W3C RDF Core WG internal working draft,
        <a href="http://www.w3.org/TR/rdf-testcases/#ntriples">latest version</a>
        February 10, 2004.
    </cite></dd>

    <dt><a name="NGVOCAB" id="NGVOCAB">[NG]</a></dt>
    <dd><cite>
        <a href="http://www.w3.org/2004/03/trix/rdfg-1/">Named Graphs Vocabulary</a>,
        J. Carroll, C. Bizer, P. Hayes and P. Stickler,
        RDF Schema vocabulary.
    </cite></dd>

    <dt><a name="Notation3" id="Notation3">[Notation3]</a></dt>
    <dd><cite>
        <a href="http://www.w3.org/TeamSubmission/n3/">Notation3 (N3): A readable RDF syntax</a>
        T. Berners-Lee and D. Connolly,
        W3C Team Submission,
        <a href="http://www.w3.org/TeamSubmission/2011/SUBM-n3-20110328/">latest version</a>
        March 28, 2011.
    </cite></dd>

    <dt><a name="RDFCONCEPTS" id="RDFCONCEPTS">[RDF CONCEPTS]</a></dt>
    <dd><cite>
        <a href="http://www.w3.org/TR/2004/REC-rdf-concepts-20040210/">Resource Description Framework (RDF): Concepts
            and Abstract Syntax</a>,
        G. Klyne, J. J. Carroll, editors,
        W3C Recommendation,
        <a href="http://www.w3.org/TR/2004/REC-rdf-concepts-20040210/">latest version</a>
        10 February 2004.
    </cite></dd>

    <dt><a name="RDFXML" id="RDFXML">[RDF/XML]</a></dt>
    <dd><cite>
        <a href="http://www.w3.org/TR/REC-rdf-syntax/">RDF/XML Syntax Specification (Revised)</a>,
        D. Beckett, editor,
        W3C Recommendation,
        <a href="http://www.w3.org/TR/2004/REC-rdf-syntax-grammar-20040210/">latest version</a>
        February 10, 2004.
    </cite></dd>

    <dt><a name="RFC2396" id="RFC2396">[RFC 2396]</a></dt>
    <dd><cite>
        <a href="http://www.ietf.org/rfc/rfc2396.txt">Uniform Resource Identifiers (URI): Generic Syntax</a>,
        T. Berners-Lee, R. Fielding, L. Masinter,
        Network Working Group Request for Comments,
        August 1998.
    </cite></dd>

    <dt><a name="RFC3066" id="RFC3066">[RFC 3066]</a></dt>
    <dd><cite>
        <a href="http://www.ietf.org/rfc/rfc3066.txt">Tags for the Identification of Languages</a>,
        H. Alvestrand,
        Network Working Group Request for Comments,
        January 2001.
    </cite></dd>

    <dt><a name="SPARQL" id="SPARQL">[SPARQL]</a></dt>
    <dd><cite>
        <a href="http://www.w3.org/TR/rdf-sparql-query/">SPARQL Query Language for RDF</a>,
        E. Prud'hommeaux and A. Seaborne, editors,
        W3C Recommendation,
        <a href="http://www.w3.org/TR/2008/REC-rdf-sparql-query-20080115/">latest version</a>
        January 15, 2008.
    </cite></dd>

    <dt><a name="SWP" id="SWP">[SWP]</a></dt>
    <dd><cite>
        <a href="http://www.w3.org/2004/03/trix/swp-2/">Semantic Web Publishing Vocabulary</a>,
        C. Bizer,
        RDF Schema vocabulary.
    </cite></dd>

    <dt><a name="TriG" id="TriG">[TriG]</a></dt>
    <dd><cite>
        <a href="http://www4.wiwiss.fu-berlin.de/bizer/TriG/">The TriG Syntax</a>,
        C. Bizer and R. Cyganiak,
        <a href="http://www4.wiwiss.fu-berlin.de/bizer/TriG/Spec/TriG-20070730/">latest version</a>
        July 30, 2007.
    </cite></dd>

    <dt><a name="TriX" id="TriX">[TriX]</a></dt>
    <dd><cite>
        <a href="http://www.hpl.hp.com/techreports/2003/HPL-2003-268.html">RDF Triples in XML</a>,
        J. Carroll and P. Stickler,
        technical report,
        2003.
    </cite></dd>

    <dt><a name="Turtle" id="Turtle">[Turtle]</a></dt>
    <dd><cite>
        <a href="http://www.w3.org/TeamSubmission/turtle/">Turtle - Terse RDF Triple Language</a>,
        D. Beckett and T. Berners-Lee,
        W3C Team Submission,
        <a href="http://www.w3.org/TeamSubmission/2011/SUBM-turtle-20110328/">latest version</a>
        March 28, 2011.
    </cite></dd>

</dl>
<h3 id="informative-refs">Informative References</h3>
<dl class="bib">
    <dt><a name="fipa-rdf" id="fipa-rdf">[FIPA RDF]</a></dt>
    <dd><cite>
        <a href="http://www.fipa.org/specs/fipa00011/XC00011B.html">FIPA RDF Content Language Specification</a>,
        Foundation for Intelligent Physical Agents experimental specification,
        August 10, 2001.
    </cite></dd>

    <dt><a name="linked-data-book" id="linked-data-book"></a>[Linked Data]</dt>
    <dd><cite>
        <a href="http://linkeddatabook.com/editions/1.0/">Linked Data: Evolving the Web into a Global Data Space</a>
        (1st edition),
        T. Heath and C. Bizer,
        Synthesis Lectures on the Semantic Web: Theory and Technology, 1:1, 1-136, Morgan & Claypool, 2011.
    </cite></dd>

    <dt><a name="named-graphs" id="named-graphs">[Named Graphs]</a></dt>
    <dd><cite><a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.59.4871&rep=rep1&type=pdf">Named graphs,
        provenance and trust</a></cite>,
        J. Carroll, C. Bizer, P. Hayes and P. Stickler,
        in Proceedings of the 14th International Conference on World Wide Web (WWW 2005).
    </dd>
</dl>

<hr/>
<!-- ................................................................. -->

<h2>C. <a id="notes" name="notes">Notes</a></h2>
<ul>
    <li><a id="note1_note" name="note1_note">&nbsp;</a>
        <a href="#note1_ref">[1]</a> For ease of explanation,
        every RDFAgents message is considered to carry an RDF Dataset,
        although it is only useful in messages with RDF content.
    </li>
</ul>

<hr/>
<!-- ................................................................. -->

<h2>D. <a id="acknowledgements" name="acknowledgements">Acknowledgements</a></h2>

<p>
    This work has been supported by the <a href="http://tw.rpi.edu/">Tetherless World Constellation</a>
    as well as the Chinese Academy of Sciences <a href="http://english.ia.cas.cn/au/bi/">Institute of Automation</a>.

    ...Franz Inc...
</p>

<p>
    Contributors of feedback, code, etc.
</p>

<p>
    The format of this document draws upon
    <a href="http://www.w3.org/">W3C</a> and
    <a href="http://buzzword.org.uk/">Buzzword.org.uk</a> specifications.
</p>

<hr/>
<!-- ................................................................. -->

<h2>E. <a id="changes" name="changes">Changes</a></h2>
<dl>
    <dt>1 May 2011</dt>
    <dd>Initial version</dd>
</dl>

<div class="footer">
    <hr/>
    <table>
        <tr>
            <td>
                <a style="background:transparent" href="http://validator.w3.org/check?uri=referer">
                    <img src="http://www.w3.org/Icons/valid-xhtml-rdfa" alt="Valid XHTML"
                         style="border-width:0"/>
                </a>
            </td>
            <td>
                <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/us/">
                    <img alt="Creative Commons License" style="border-width:0"
                         src="http://i.creativecommons.org/l/by-sa/3.0/us/88x31.png"/></a>
            </td>
        </tr>
    </table>
</div>

</body>

</html>